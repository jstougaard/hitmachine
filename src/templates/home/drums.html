<div class="page-header">
    <h1>Drums</h1>
</div>

<div class="row lead-notes">
    <div class="well note col-sm-2 col-md-1" ng-repeat="(key, note) in vm.noteKeyMap"  my-touchstart="vm.noteOn(note)" my-touchend="vm.noteOff(note)" ng-class="{'active': vm.notesOn.indexOf(note)!==-1}">{{note}}</div>
</div>

<div class="well track-container" ng-repeat="(drumName, pattern) in vm.MusicService.drumPatterns">
    <div class="row">
        <div class="col-md-1 col-xs-2">
            <h2 class="track-label icon-{{drumName}}"></h2>
        </div>
        <div class="col-md-11 col-xs-10">
            <canvas rhythm single-beat-pattern id="{{drumName}}" class="rhythm-pattern" width="1200" height="50" base-pattern="drumName == 'hihat' ? vm.MusicService.basePattern : null" pattern="vm.MusicService.drumPatterns[drumName]" call-on-change="vm.patternChanged(drumName)" active-cell="vm.MusicService.activeBeat"></canvas>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-4 col-md-1"><h4>Volume</h4></div>
        <div class="col-xs-8 col-md-4">
            <slider class="volume-slider bg-darken" floor="0" ceiling="100" step="1" precision="1" ng-model="vm.MusicService[drumName].volume" change="vm.MusicService.volumeChanged(drumName)"></slider>
        </div>
    </div>
</div>